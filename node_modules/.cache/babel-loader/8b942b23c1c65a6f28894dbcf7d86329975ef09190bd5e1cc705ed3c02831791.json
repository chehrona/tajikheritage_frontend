{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useSetLang}from\"../../App\";import{useMediaQuery}from'react-responsive';import{stepInfo}from\"../../landingPages/home/helper\";import{MainContainer,SemiCircle,NumLine,StepperBox,Step,Desc,IndicatorStep,TitleWrapper,LargeTitle,OtherSteps,StepperContainer,StyledButton,Link,ImageSemiCircle}from\"./homeStepperStyles\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function HomeStepper(_ref){var _stepInfo,_stepInfo2,_stepInfo$visibleStep,_stepInfo3,_stepInfo$;let{containerRef,divRefs,opacities}=_ref;const{lang}=useSetLang();const isMobile=useMediaQuery({query:\"(max-width: 480px)\"});const[visibleStepIndex,setVisibleStepIndex]=useState(0);useEffect(()=>{const options={root:null,rootMargin:'0px',threshold:0.7};const observer=new IntersectionObserver(entries=>{entries.forEach((entry,index)=>{if(entry.isIntersecting){setVisibleStepIndex(index);}});},options);const stepElements=Array.from(containerRef.current.children);stepElements.forEach(element=>{observer.observe(element);});return()=>{observer.disconnect();};},[divRefs]);return/*#__PURE__*/_jsxs(MainContainer,{children:[/*#__PURE__*/_jsx(SemiCircle,{}),/*#__PURE__*/_jsxs(OtherSteps,{children:[/*#__PURE__*/_jsx(NumLine,{}),/*#__PURE__*/_jsx(Step,{children:((_stepInfo=stepInfo[visibleStepIndex-1])===null||_stepInfo===void 0?void 0:_stepInfo.num)||((_stepInfo2=stepInfo[stepInfo.length-1])===null||_stepInfo2===void 0?void 0:_stepInfo2.num)})]}),/*#__PURE__*/_jsxs(StepperContainer,{ref:containerRef,children:[stepInfo.map((step,i)=>{var _step$text$lang;return/*#__PURE__*/_jsxs(StepperBox,{ref:divRefs[i],opacity:opacities[i],children:[/*#__PURE__*/_jsx(IndicatorStep,{children:step===null||step===void 0?void 0:step.num}),/*#__PURE__*/_jsxs(TitleWrapper,{children:[/*#__PURE__*/_jsx(LargeTitle,{fontSize:step===null||step===void 0?void 0:step.text[lang].font,margin:step===null||step===void 0?void 0:(_step$text$lang=step.text[lang])===null||_step$text$lang===void 0?void 0:_step$text$lang.margin,children:step===null||step===void 0?void 0:step.text[lang].text}),/*#__PURE__*/_jsxs(Desc,{children:[/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:step===null||step===void 0?void 0:step.desc[lang].text}}),/*#__PURE__*/_jsx(Link,{href:step===null||step===void 0?void 0:step.desc[lang].link,target:\"_blank\",children:/*#__PURE__*/_jsx(StyledButton,{lang:lang,children:lang==='ru'?'УЗНАТЬ БОЛЬШЕ':lang==='tj'?'БИСЁРТАР ОМӮЗЕД':'EXPLORE'})})]})]})]},i);}),isMobile&&/*#__PURE__*/_jsx(ImageSemiCircle,{src:(_stepInfo$visibleStep=stepInfo[visibleStepIndex])===null||_stepInfo$visibleStep===void 0?void 0:_stepInfo$visibleStep.inner[2].img})]}),/*#__PURE__*/_jsxs(OtherSteps,{bottom:1,children:[/*#__PURE__*/_jsx(Step,{children:((_stepInfo3=stepInfo[visibleStepIndex+1])===null||_stepInfo3===void 0?void 0:_stepInfo3.num)||((_stepInfo$=stepInfo[0])===null||_stepInfo$===void 0?void 0:_stepInfo$.num)}),/*#__PURE__*/_jsx(NumLine,{})]})]});}","map":{"version":3,"names":["React","useEffect","useState","useSetLang","useMediaQuery","stepInfo","MainContainer","SemiCircle","NumLine","StepperBox","Step","Desc","IndicatorStep","TitleWrapper","LargeTitle","OtherSteps","StepperContainer","StyledButton","Link","ImageSemiCircle","jsx","_jsx","jsxs","_jsxs","HomeStepper","_ref","_stepInfo","_stepInfo2","_stepInfo$visibleStep","_stepInfo3","_stepInfo$","containerRef","divRefs","opacities","lang","isMobile","query","visibleStepIndex","setVisibleStepIndex","options","root","rootMargin","threshold","observer","IntersectionObserver","entries","forEach","entry","index","isIntersecting","stepElements","Array","from","current","children","element","observe","disconnect","num","length","ref","map","step","i","_step$text$lang","opacity","fontSize","text","font","margin","dangerouslySetInnerHTML","__html","desc","href","link","target","src","inner","img","bottom"],"sources":["/Users/chehronasmacbookair/Desktop/thetajikheritage.com/frontend/src/components/homeStepper/HomeStepper.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useSetLang } from \"../../App\";\nimport { useMediaQuery } from 'react-responsive';\n\nimport { stepInfo } from \"../../landingPages/home/helper\"; \n\nimport {\n    MainContainer,\n    SemiCircle,\n    NumLine,\n    StepperBox,\n    Step,\n    Desc,\n    IndicatorStep,\n    TitleWrapper,\n    LargeTitle,\n    OtherSteps,\n    StepperContainer,\n    StyledButton,\n    Link,\n    ImageSemiCircle\n} from \"./homeStepperStyles\";\n\nexport default function HomeStepper({ containerRef, divRefs, opacities }) {\n    const { lang } = useSetLang();\n    const isMobile = useMediaQuery({ query: `(max-width: 480px)` });\n    const [visibleStepIndex, setVisibleStepIndex] = useState(0);\n\n    useEffect(() => {\n        const options = {\n            root: null,\n            rootMargin: '0px',\n            threshold: 0.7,\n        };\n      \n        const observer = new IntersectionObserver(\n            (entries) => {\n                entries.forEach((entry, index) => {\n                    if (entry.isIntersecting) {\n                        setVisibleStepIndex(index);\n                    }\n                });\n            },\n            options\n        );\n      \n        const stepElements = Array.from(containerRef.current.children);\n        stepElements.forEach((element) => {\n            observer.observe(element);\n        });\n      \n        return () => {\n            observer.disconnect();\n        };\n    }, [divRefs]);      \n\n    return (\n        <MainContainer>\n                <SemiCircle />\n            <OtherSteps>\n                <NumLine />\n                <Step>{stepInfo[visibleStepIndex - 1]?.num || stepInfo[stepInfo.length - 1]?.num}</Step>\n            </OtherSteps>\n            <StepperContainer ref={containerRef}>\n                {stepInfo.map((step, i) => {\n                    return (\n                        <StepperBox\n                            key={i}\n                            ref={divRefs[i]}\n                            opacity={opacities[i]}\n                        >\n                            <IndicatorStep>{step?.num}</IndicatorStep>\n                            <TitleWrapper>\n                                <LargeTitle fontSize={step?.text[lang].font} margin={step?.text[lang]?.margin}>{step?.text[lang].text}</LargeTitle>\n                                <Desc>\n                                    <div\n                                        dangerouslySetInnerHTML={{__html: step?.desc[lang].text}}\n                                    />\n                                    <Link href={step?.desc[lang].link} target=\"_blank\">\n                                        <StyledButton lang={lang}>\n                                            {lang === 'ru' ? 'УЗНАТЬ БОЛЬШЕ' : (lang === 'tj' ? 'БИСЁРТАР ОМӮЗЕД' : 'EXPLORE')}\n                                        </StyledButton>\n                                    </Link>\n                                </Desc>\n                            </TitleWrapper>\n                        </StepperBox>\n                    );\n                })}\n                {isMobile && <ImageSemiCircle src={stepInfo[visibleStepIndex]?.inner[2].img} />}\n            </StepperContainer>\n            <OtherSteps bottom={1}>\n                <Step>{stepInfo[visibleStepIndex + 1]?.num || stepInfo[0]?.num}</Step>\n                <NumLine />\n            </OtherSteps>\n        </MainContainer>\n    );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}