{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import axios from\"axios\";import{StyledDialog,StyledFrame,Header,Title,LogoWrapper,StyledLink,TitleWrapper,Logo,IconWrapper,StyledIconButton,StyledCloseIcon}from\"./bookReaderStyles\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function BookReader(_ref){let{book,setOpenBook}=_ref;const[pdfUrl,setPdfUrl]=useState(\"\");function closeReader(){setOpenBook(false);}useEffect(()=>{axios.get(book.link,{responseType:'arraybuffer'}).then(response=>{const blob=new Blob([response.data],{type:'application/pdf'});const pdfUrl=URL.createObjectURL(blob);setPdfUrl(pdfUrl);}).catch(error=>{console.error('Error fetching PDF file:',error);});},[]);return/*#__PURE__*/_jsxs(StyledDialog,{open:true,fullScreen:true,children:[/*#__PURE__*/_jsxs(Header,{children:[/*#__PURE__*/_jsx(LogoWrapper,{children:/*#__PURE__*/_jsx(StyledLink,{to:'/',children:/*#__PURE__*/_jsx(Logo,{src:'/tajiks.png'})})}),/*#__PURE__*/_jsx(TitleWrapper,{children:/*#__PURE__*/_jsx(Title,{children:book===null||book===void 0?void 0:book.title})}),/*#__PURE__*/_jsx(IconWrapper,{children:/*#__PURE__*/_jsx(StyledIconButton,{onClick:closeReader,children:/*#__PURE__*/_jsx(StyledCloseIcon,{})})})]}),/*#__PURE__*/_jsx(StyledFrame,{src:\"\".concat(pdfUrl,\"#toolbar=0\")})]});}","map":{"version":3,"names":["React","useEffect","useState","axios","StyledDialog","StyledFrame","Header","Title","LogoWrapper","StyledLink","TitleWrapper","Logo","IconWrapper","StyledIconButton","StyledCloseIcon","jsx","_jsx","jsxs","_jsxs","BookReader","_ref","book","setOpenBook","pdfUrl","setPdfUrl","closeReader","get","link","responseType","then","response","blob","Blob","data","type","URL","createObjectURL","catch","error","console","open","fullScreen","children","to","src","title","onClick","concat"],"sources":["/Users/chehronasmacbookair/Desktop/thetajikheritage.com/frontend/src/components/poet/bookReader/BookReader.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nimport {\n    StyledDialog,\n    StyledFrame,\n    Header,\n    Title,\n    LogoWrapper,\n    StyledLink,\n    TitleWrapper,\n    Logo,\n    IconWrapper,\n    StyledIconButton,\n    StyledCloseIcon,\n} from \"./bookReaderStyles\";\n\nexport default function BookReader({ book, setOpenBook }) {\n    const [pdfUrl, setPdfUrl] = useState(\"\");\n\n    function closeReader() {\n        setOpenBook(false);\n    }\n\n    useEffect(() => {\n        axios.get(book.link, { responseType: 'arraybuffer' })\n            .then(response => {\n                const blob = new Blob([response.data], { type: 'application/pdf' });\n                const pdfUrl = URL.createObjectURL(blob);\n                setPdfUrl(pdfUrl);\n            })\n            .catch(error => {\n                console.error('Error fetching PDF file:', error);\n            });\n    }, []);\n\n    return (\n        <StyledDialog open={true} fullScreen>\n            <Header>\n                <LogoWrapper>\n                    <StyledLink to={'/'}>\n                        <Logo src={'/tajiks.png'}></Logo>\n                    </StyledLink>\n                </LogoWrapper>\n                <TitleWrapper>\n                    <Title>{book?.title}</Title>\n                </TitleWrapper>\n                <IconWrapper>\n                    <StyledIconButton onClick={closeReader}>\n                        <StyledCloseIcon />\n                    </StyledIconButton>\n                </IconWrapper>\n            </Header>\n            <StyledFrame src={`${pdfUrl}#toolbar=0`}></StyledFrame>\n        </StyledDialog>\n    )\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAEzB,OACIC,YAAY,CACZC,WAAW,CACXC,MAAM,CACNC,KAAK,CACLC,WAAW,CACXC,UAAU,CACVC,YAAY,CACZC,IAAI,CACJC,WAAW,CACXC,gBAAgB,CAChBC,eAAe,KACZ,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE5B,cAAe,SAAS,CAAAC,UAAUA,CAAAC,IAAA,CAAwB,IAAvB,CAAEC,IAAI,CAAEC,WAAY,CAAC,CAAAF,IAAA,CACpD,KAAM,CAACG,MAAM,CAAEC,SAAS,CAAC,CAAGtB,QAAQ,CAAC,EAAE,CAAC,CAExC,QAAS,CAAAuB,WAAWA,CAAA,CAAG,CACnBH,WAAW,CAAC,KAAK,CAAC,CACtB,CAEArB,SAAS,CAAC,IAAM,CACZE,KAAK,CAACuB,GAAG,CAACL,IAAI,CAACM,IAAI,CAAE,CAAEC,YAAY,CAAE,aAAc,CAAC,CAAC,CAChDC,IAAI,CAACC,QAAQ,EAAI,CACd,KAAM,CAAAC,IAAI,CAAG,GAAI,CAAAC,IAAI,CAAC,CAACF,QAAQ,CAACG,IAAI,CAAC,CAAE,CAAEC,IAAI,CAAE,iBAAkB,CAAC,CAAC,CACnE,KAAM,CAAAX,MAAM,CAAGY,GAAG,CAACC,eAAe,CAACL,IAAI,CAAC,CACxCP,SAAS,CAACD,MAAM,CAAC,CACrB,CAAC,CAAC,CACDc,KAAK,CAACC,KAAK,EAAI,CACZC,OAAO,CAACD,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CACpD,CAAC,CAAC,CACV,CAAC,CAAE,EAAE,CAAC,CAEN,mBACIpB,KAAA,CAACd,YAAY,EAACoC,IAAI,CAAE,IAAK,CAACC,UAAU,MAAAC,QAAA,eAChCxB,KAAA,CAACZ,MAAM,EAAAoC,QAAA,eACH1B,IAAA,CAACR,WAAW,EAAAkC,QAAA,cACR1B,IAAA,CAACP,UAAU,EAACkC,EAAE,CAAE,GAAI,CAAAD,QAAA,cAChB1B,IAAA,CAACL,IAAI,EAACiC,GAAG,CAAE,aAAc,CAAO,CAAC,CACzB,CAAC,CACJ,CAAC,cACd5B,IAAA,CAACN,YAAY,EAAAgC,QAAA,cACT1B,IAAA,CAACT,KAAK,EAAAmC,QAAA,CAAErB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEwB,KAAK,CAAQ,CAAC,CAClB,CAAC,cACf7B,IAAA,CAACJ,WAAW,EAAA8B,QAAA,cACR1B,IAAA,CAACH,gBAAgB,EAACiC,OAAO,CAAErB,WAAY,CAAAiB,QAAA,cACnC1B,IAAA,CAACF,eAAe,GAAE,CAAC,CACL,CAAC,CACV,CAAC,EACV,CAAC,cACTE,IAAA,CAACX,WAAW,EAACuC,GAAG,IAAAG,MAAA,CAAKxB,MAAM,cAAa,CAAc,CAAC,EAC7C,CAAC,CAEvB"},"metadata":{},"sourceType":"module","externalDependencies":[]}