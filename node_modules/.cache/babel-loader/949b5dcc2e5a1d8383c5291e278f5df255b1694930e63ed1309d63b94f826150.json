{"ast":null,"code":"import React,{useState,useRef}from\"react\";import{Slide}from'@mui/material';import{useSetLang}from\"../../../App\";import{useMediaQuery}from'react-responsive';import Dialog from\"../../common/dialog/Dialog\";import{Desc,StyledIconButton,InfoContainer,StyledContent,InfoTitle,Director,MovieImg,InnerBox,StudioName,ReleaseInfo,InfoWrapper,InfoBox,StyledPlayIcon,Line,Direction,DirBox,StyledFrame,SlideUp,SlideDown,StyledArrowButton,Cover}from\"./movieDialogStyles\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const ContentTransition=_ref=>{let{children,...props}=_ref;return/*#__PURE__*/_jsx(Slide,{direction:\"left\",...props,children:children});};export default function MovieDialog(_ref2){let{movieInfo,setShowMovieInfo,showMovieInfo}=_ref2;const[showVideo,setShowVideo]=useState(false);const isMobile=useMediaQuery({query:\"(max-width: 1024px)\"});const iframeRef=useRef(null);const{lang}=useSetLang();const[fullSize,setFullSize]=useState(0);function handleClose(){setShowMovieInfo(false);setFullSize(false);setShowVideo(false);}function handleExpand(){setFullSize(prevState=>!prevState);}return/*#__PURE__*/_jsx(Dialog,{width:\"1350px\",border:\"2rem\",open:showMovieInfo,backdrop:\"rgba(15 10 0 / 30%)\",background:\"#0F0A00\",height:isMobile?\"100%\":\"80%\",handleClose:handleClose,children:/*#__PURE__*/_jsx(StyledContent,{Transition:ContentTransition,TransitionProps:{in:showVideo,easing:{enter:\"linear\",exit:\"linear\"}},children:showVideo?/*#__PURE__*/_jsxs(InfoContainer,{children:[/*#__PURE__*/_jsx(Cover,{}),/*#__PURE__*/_jsx(StyledFrame,{src:\"https://www.youtube-nocookie.com/embed/\".concat(movieInfo===null||movieInfo===void 0?void 0:movieInfo.link,\"?autoplay=1&rel=0\"),allow:\"autoplay; encrypted-media\",frameBorder:\"0\",fullWidth:true,allowFullScreen:true,ref:iframeRef})]}):/*#__PURE__*/_jsxs(InfoContainer,{expand:fullSize,children:[/*#__PURE__*/_jsxs(InnerBox,{expand:fullSize,children:[/*#__PURE__*/_jsx(StyledArrowButton,{arrow:1,onClick:handleExpand,children:fullSize?/*#__PURE__*/_jsx(SlideDown,{}):/*#__PURE__*/_jsx(SlideUp,{})}),/*#__PURE__*/_jsx(StudioName,{src:movieInfo===null||movieInfo===void 0?void 0:movieInfo.studio}),/*#__PURE__*/_jsxs(InfoWrapper,{children:[/*#__PURE__*/_jsx(InfoTitle,{children:movieInfo===null||movieInfo===void 0?void 0:movieInfo.title}),/*#__PURE__*/_jsxs(ReleaseInfo,{children:[/*#__PURE__*/_jsx(InfoBox,{year:1,children:movieInfo===null||movieInfo===void 0?void 0:movieInfo.year}),/*#__PURE__*/_jsx(InfoBox,{children:movieInfo===null||movieInfo===void 0?void 0:movieInfo.lang}),/*#__PURE__*/_jsx(InfoBox,{children:movieInfo===null||movieInfo===void 0?void 0:movieInfo.genre}),/*#__PURE__*/_jsx(InfoBox,{children:movieInfo===null||movieInfo===void 0?void 0:movieInfo.duration})]}),/*#__PURE__*/_jsx(Desc,{expand:fullSize,dangerouslySetInnerHTML:{__html:movieInfo===null||movieInfo===void 0?void 0:movieInfo.desc}}),/*#__PURE__*/_jsx(Director,{children:lang==='us'?'Director':'Режиссёр'}),/*#__PURE__*/_jsx(\"div\",{children:movieInfo===null||movieInfo===void 0?void 0:movieInfo.director})]})]}),/*#__PURE__*/_jsx(MovieImg,{src:movieInfo===null||movieInfo===void 0?void 0:movieInfo.img}),/*#__PURE__*/_jsxs(DirBox,{children:[/*#__PURE__*/_jsx(StyledIconButton,{onClick:()=>setShowVideo(true),children:/*#__PURE__*/_jsx(StyledPlayIcon,{})}),/*#__PURE__*/_jsx(Line,{}),/*#__PURE__*/_jsx(Direction,{children:lang==='ru'?'Смотреть':lang==='tj'?'Тамошо':'Watch now'})]})]})})});}","map":{"version":3,"names":["React","useState","useRef","Slide","useSetLang","useMediaQuery","Dialog","Desc","StyledIconButton","InfoContainer","StyledContent","InfoTitle","Director","MovieImg","InnerBox","StudioName","ReleaseInfo","InfoWrapper","InfoBox","StyledPlayIcon","Line","Direction","DirBox","StyledFrame","SlideUp","SlideDown","StyledArrowButton","Cover","jsx","_jsx","jsxs","_jsxs","ContentTransition","_ref","children","props","direction","MovieDialog","_ref2","movieInfo","setShowMovieInfo","showMovieInfo","showVideo","setShowVideo","isMobile","query","iframeRef","lang","fullSize","setFullSize","handleClose","handleExpand","prevState","width","border","open","backdrop","background","height","Transition","TransitionProps","in","easing","enter","exit","src","concat","link","allow","frameBorder","fullWidth","allowFullScreen","ref","expand","arrow","onClick","studio","title","year","genre","duration","dangerouslySetInnerHTML","__html","desc","director","img"],"sources":["/Users/chehronasmacbookair/Desktop/thetajikheritage.com/frontend/src/components/poet/movieDialog/MovieDialog.jsx"],"sourcesContent":["import React, { useState, useRef } from \"react\";\nimport { Slide } from '@mui/material';\n\nimport { useSetLang } from \"../../../App\";\nimport { useMediaQuery } from 'react-responsive';\n\nimport Dialog from \"../../common/dialog/Dialog\";\n\nimport {\n    Desc,\n    StyledIconButton,\n    InfoContainer,\n    StyledContent,\n    InfoTitle,\n    Director,\n    MovieImg,\n    InnerBox,\n    StudioName,\n    ReleaseInfo,\n    InfoWrapper,\n    InfoBox,\n    StyledPlayIcon,\n    Line,\n    Direction,\n    DirBox,\n    StyledFrame,\n    SlideUp,\n    SlideDown,\n    StyledArrowButton,\n    Cover\n} from \"./movieDialogStyles\";\n\nconst ContentTransition = ({ children, ...props }) => (\n    <Slide direction=\"left\" {...props}>\n        {children}\n    </Slide>\n)\n\nexport default function MovieDialog({ movieInfo, setShowMovieInfo, showMovieInfo }) {\n    const [showVideo, setShowVideo] = useState(false);\n    const isMobile = useMediaQuery({ query: `(max-width: 1024px)` });\n    const iframeRef = useRef(null);\n    const { lang } = useSetLang();\n    const [fullSize, setFullSize] = useState(0);\n\n    function handleClose() {\n        setShowMovieInfo(false);\n        setFullSize(false);\n        setShowVideo(false);\n    }\n\n    function handleExpand() {\n        setFullSize(prevState => !prevState);\n    }\n\n    return (\n        <Dialog\n            width={\"1350px\"}\n            border={\"2rem\"}\n            open={showMovieInfo}\n            backdrop={\"rgba(15 10 0 / 30%)\"}\n            background={\"#0F0A00\"}\n            height={isMobile ? \"100%\" : \"80%\"}\n            handleClose={handleClose}\n        >\n            <StyledContent\n                Transition={ContentTransition}\n                TransitionProps={{\n                    in: showVideo,\n                    easing: {enter: \"linear\", exit: \"linear\"}\n                }}\n            >\n                {showVideo ? (\n                    <InfoContainer>\n                        <Cover />\n                        <StyledFrame\n                            src={`https://www.youtube-nocookie.com/embed/${movieInfo?.link}?autoplay=1&rel=0`}\n                            allow='autoplay; encrypted-media'\n                            frameBorder=\"0\"\n                            fullWidth\n                            allowFullScreen\n                            ref={iframeRef}\n                        />\n                    </InfoContainer>\n                ) : (\n                    <InfoContainer expand={fullSize}>\n                        <InnerBox expand={fullSize}>\n                            <StyledArrowButton arrow={1} onClick={handleExpand}>\n                                {fullSize ? <SlideDown /> : <SlideUp />}\n                            </StyledArrowButton>\n                            <StudioName src={movieInfo?.studio}></StudioName>\n                            <InfoWrapper>\n                                <InfoTitle>{movieInfo?.title}</InfoTitle>\n                                <ReleaseInfo>\n                                    <InfoBox year={1}>{movieInfo?.year}</InfoBox>\n                                    <InfoBox>{movieInfo?.lang}</InfoBox>\n                                    <InfoBox>{movieInfo?.genre}</InfoBox>\n                                    <InfoBox>{movieInfo?.duration}</InfoBox>\n                                </ReleaseInfo>\n                                <Desc expand={fullSize} dangerouslySetInnerHTML={{ __html: movieInfo?.desc}} />\n                                <Director>\n                                    {lang === 'us' ? 'Director' : 'Режиссёр'}\n                                </Director>\n                                <div>{movieInfo?.director}</div>\n                            </InfoWrapper>\n                        </InnerBox>\n                        <MovieImg src={movieInfo?.img} />\n                        <DirBox>\n                            <StyledIconButton onClick={() => setShowVideo(true)}>\n                                <StyledPlayIcon />\n                            </StyledIconButton>    \n                            <Line />\n                            <Direction>\n                                {lang === 'ru' ? 'Смотреть' : (lang === 'tj' ? 'Тамошо' : 'Watch now')}\n                            </Direction>\n                        </DirBox>\n                    </InfoContainer>\n                )}\n            </StyledContent>\n        </Dialog>\n    );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}