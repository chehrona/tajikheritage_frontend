{"ast":null,"code":"import React,{useEffect,useRef,useState}from\"react\";import{ArrowForwardIos}from\"@mui/icons-material\";import{useSetLang}from\"../../../App\";import{useMediaQuery}from'react-responsive';import{MainContainer,YearSlider,UnitWrapper,YearWrapper,Year,Line,InfoContainer,InfoWrapper,DescWrapper,Footer,Step,StyledIconButton,Image,Desc,InfoInnerContainer,MobileFooter}from\"./poetCareerStyles\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function PoetCareer(_ref){var _points$years2,_points$images,_points$years4;let{points}=_ref;const{lang}=useSetLang();const parentRef=useRef(null);const childRef=useRef(null);const[currentIndex,setCurrentIndex]=useState(0);const[translate,setTranslate]=useState(0);const[currentSize,setCurrentSize]=useState(0);const isMobile=useMediaQuery({query:\"(max-width: 480px)\"});let gap=isMobile?30:50;useEffect(()=>{var _parentRef$current,_childRef$current;const parentWidth=parentRef===null||parentRef===void 0?void 0:(_parentRef$current=parentRef.current)===null||_parentRef$current===void 0?void 0:_parentRef$current.getBoundingClientRect().width;const childWidth=childRef===null||childRef===void 0?void 0:(_childRef$current=childRef.current)===null||_childRef$current===void 0?void 0:_childRef$current.getBoundingClientRect().width;const difference=parentWidth/2-(childWidth/2+gap);const translationValue=childWidth-difference;setTranslate(-translationValue);setCurrentSize(childWidth);setCurrentIndex(0);},[lang]);const handleNext=()=>{var _points$years;if(currentIndex<(points===null||points===void 0?void 0:(_points$years=points.years)===null||_points$years===void 0?void 0:_points$years.length)-1){setCurrentIndex(prevState=>prevState+1);setTranslate(prevState=>prevState-currentSize-gap);}};const handlePrev=()=>{if(currentIndex>0){setCurrentIndex(prevState=>prevState-1);setTranslate(prevState=>prevState+currentSize+gap);}};return/*#__PURE__*/_jsx(MainContainer,{id:\"Career\",children:/*#__PURE__*/_jsxs(YearSlider,{children:[/*#__PURE__*/_jsxs(UnitWrapper,{children:[/*#__PURE__*/_jsx(Line,{}),points===null||points===void 0?void 0:(_points$years2=points.years)===null||_points$years2===void 0?void 0:_points$years2.map((point,i)=>{return/*#__PURE__*/_jsx(YearWrapper,{size:i===currentIndex,children:/*#__PURE__*/_jsx(Year,{show:i!==currentIndex,children:point})},i+1);})]}),/*#__PURE__*/_jsxs(InfoContainer,{ref:parentRef,children:[/*#__PURE__*/_jsx(InfoInnerContainer,{translate:translate,children:points===null||points===void 0?void 0:(_points$images=points.images)===null||_points$images===void 0?void 0:_points$images.map((img,i)=>{var _points$years3;return/*#__PURE__*/_jsxs(InfoWrapper,{ref:childRef,children:[/*#__PURE__*/_jsx(Image,{src:img}),/*#__PURE__*/_jsxs(DescWrapper,{children:[/*#__PURE__*/_jsx(Desc,{dangerouslySetInnerHTML:{__html:points===null||points===void 0?void 0:points.text[lang][i]}}),/*#__PURE__*/_jsxs(Footer,{children:[/*#__PURE__*/_jsx(StyledIconButton,{left:1,onClick:handlePrev,disabled:i===1,children:/*#__PURE__*/_jsx(ArrowForwardIos,{})}),/*#__PURE__*/_jsx(Step,{children:\"\".concat(currentIndex+1,\"/\").concat(points===null||points===void 0?void 0:points.years.length)}),/*#__PURE__*/_jsx(StyledIconButton,{onClick:handleNext,disabled:i===(points===null||points===void 0?void 0:(_points$years3=points.years)===null||_points$years3===void 0?void 0:_points$years3.length),children:/*#__PURE__*/_jsx(ArrowForwardIos,{})})]})]})]},img+i);})}),/*#__PURE__*/_jsxs(MobileFooter,{children:[/*#__PURE__*/_jsx(StyledIconButton,{left:1,onClick:handlePrev,disabled:currentIndex===0,children:/*#__PURE__*/_jsx(ArrowForwardIos,{})}),/*#__PURE__*/_jsx(Step,{children:\"\".concat(currentIndex+1,\"/\").concat(points===null||points===void 0?void 0:points.years.length)}),/*#__PURE__*/_jsx(StyledIconButton,{onClick:handleNext,disabled:currentIndex===(points===null||points===void 0?void 0:(_points$years4=points.years)===null||_points$years4===void 0?void 0:_points$years4.length)-1,children:/*#__PURE__*/_jsx(ArrowForwardIos,{})})]})]})]})});}","map":{"version":3,"names":["React","useEffect","useRef","useState","ArrowForwardIos","useSetLang","useMediaQuery","MainContainer","YearSlider","UnitWrapper","YearWrapper","Year","Line","InfoContainer","InfoWrapper","DescWrapper","Footer","Step","StyledIconButton","Image","Desc","InfoInnerContainer","MobileFooter","jsx","_jsx","jsxs","_jsxs","PoetCareer","_ref","_points$years2","_points$images","_points$years4","points","lang","parentRef","childRef","currentIndex","setCurrentIndex","translate","setTranslate","currentSize","setCurrentSize","isMobile","query","gap","_parentRef$current","_childRef$current","parentWidth","current","getBoundingClientRect","width","childWidth","difference","translationValue","handleNext","_points$years","years","length","prevState","handlePrev","id","children","map","point","i","size","show","ref","images","img","_points$years3","src","dangerouslySetInnerHTML","__html","text","left","onClick","disabled","concat"],"sources":["/Users/chehronasmacbookair/Desktop/thetajikheritage.com/frontend/src/components/poet/poetCareer/PoetCareer.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport { ArrowForwardIos } from \"@mui/icons-material\";\nimport { useSetLang } from \"../../../App\";\nimport { useMediaQuery } from 'react-responsive';\n\nimport { \n    MainContainer,\n    YearSlider,\n    UnitWrapper,\n    YearWrapper,\n    Year,\n    Line,\n    InfoContainer,\n    InfoWrapper,\n    DescWrapper,\n    Footer,\n    Step, \n    StyledIconButton,\n    Image,\n    Desc,\n    InfoInnerContainer,\n    MobileFooter\n} from \"./poetCareerStyles\";\n\nexport default function PoetCareer({ points }) {\n    const { lang } = useSetLang();\n    const parentRef = useRef(null);\n    const childRef = useRef(null);\n    const [currentIndex, setCurrentIndex] = useState(0);\n    const [translate, setTranslate] = useState(0);\n    const [currentSize, setCurrentSize] = useState(0);\n    const isMobile = useMediaQuery({ query: `(max-width: 480px)` });\n    let gap = isMobile ? 30 : 50;\n\n    useEffect(() => {\n        const parentWidth = parentRef?.current?.getBoundingClientRect().width;\n        const childWidth = childRef?.current?.getBoundingClientRect().width;\n\n        const difference = parentWidth/2 - (childWidth/2 + gap);\n        const translationValue = childWidth - difference;\n\n        setTranslate(-translationValue);\n        setCurrentSize(childWidth);\n        setCurrentIndex(0);\n    }, [lang]);\n\n    const handleNext = () => {\n        if (currentIndex < points?.years?.length - 1) {            \n            setCurrentIndex(prevState => prevState + 1);\n            setTranslate((prevState) => prevState - currentSize - gap);\n        }\n    }\n\n    const handlePrev = () => {\n        if (currentIndex > 0) {\n            setCurrentIndex(prevState => prevState - 1);\n            setTranslate((prevState) => prevState + currentSize + gap);\n        }\n    }\n\n    return (\n        <MainContainer id='Career'>\n            <YearSlider>\n                <UnitWrapper>\n                    <Line />\n                    {points?.years?.map((point, i) => {\n                        return (\n                            <YearWrapper key={i + 1} size={i === currentIndex}>\n                                <Year show={i !== currentIndex}>{point}</Year>\n                            </YearWrapper>   \n                        );\n                    })}\n                </UnitWrapper>\n                <InfoContainer ref={parentRef}>\n                    <InfoInnerContainer translate={translate}>\n                        {points?.images?.map((img, i) => {\n                            return (\n                                <InfoWrapper key={img + i} ref={childRef}>\n                                    <Image src={img} />\n                                    <DescWrapper>\n                                        <Desc dangerouslySetInnerHTML={{__html: points?.text[lang][i]}} />\n                                        <Footer>\n                                            <StyledIconButton left={1} onClick={handlePrev} disabled={i === 1}>\n                                                <ArrowForwardIos />\n                                            </StyledIconButton>\n                                            <Step>{`${currentIndex + 1}/${points?.years.length}`}</Step>\n                                            <StyledIconButton onClick={handleNext} disabled={i === points?.years?.length}>\n                                                <ArrowForwardIos />\n                                            </StyledIconButton>\n                                        </Footer>\n                                    </DescWrapper>\n                                </InfoWrapper>\n                            );\n                        })}\n                    </InfoInnerContainer>\n                    <MobileFooter>\n                        <StyledIconButton left={1} onClick={handlePrev} disabled={currentIndex === 0}>\n                            <ArrowForwardIos />\n                        </StyledIconButton>\n                        <Step>{`${currentIndex + 1}/${points?.years.length}`}</Step>\n                        <StyledIconButton onClick={handleNext} disabled={currentIndex === points?.years?.length - 1}>\n                            <ArrowForwardIos />\n                        </StyledIconButton>\n                    </MobileFooter>\n                </InfoContainer>\n            </YearSlider>\n        </MainContainer>\n    );\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CAC1D,OAASC,eAAe,KAAQ,qBAAqB,CACrD,OAASC,UAAU,KAAQ,cAAc,CACzC,OAASC,aAAa,KAAQ,kBAAkB,CAEhD,OACIC,aAAa,CACbC,UAAU,CACVC,WAAW,CACXC,WAAW,CACXC,IAAI,CACJC,IAAI,CACJC,aAAa,CACbC,WAAW,CACXC,WAAW,CACXC,MAAM,CACNC,IAAI,CACJC,gBAAgB,CAChBC,KAAK,CACLC,IAAI,CACJC,kBAAkB,CAClBC,YAAY,KACT,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE5B,cAAe,SAAS,CAAAC,UAAUA,CAAAC,IAAA,CAAa,KAAAC,cAAA,CAAAC,cAAA,CAAAC,cAAA,IAAZ,CAAEC,MAAO,CAAC,CAAAJ,IAAA,CACzC,KAAM,CAAEK,IAAK,CAAC,CAAG5B,UAAU,CAAC,CAAC,CAC7B,KAAM,CAAA6B,SAAS,CAAGhC,MAAM,CAAC,IAAI,CAAC,CAC9B,KAAM,CAAAiC,QAAQ,CAAGjC,MAAM,CAAC,IAAI,CAAC,CAC7B,KAAM,CAACkC,YAAY,CAAEC,eAAe,CAAC,CAAGlC,QAAQ,CAAC,CAAC,CAAC,CACnD,KAAM,CAACmC,SAAS,CAAEC,YAAY,CAAC,CAAGpC,QAAQ,CAAC,CAAC,CAAC,CAC7C,KAAM,CAACqC,WAAW,CAAEC,cAAc,CAAC,CAAGtC,QAAQ,CAAC,CAAC,CAAC,CACjD,KAAM,CAAAuC,QAAQ,CAAGpC,aAAa,CAAC,CAAEqC,KAAK,qBAAuB,CAAC,CAAC,CAC/D,GAAI,CAAAC,GAAG,CAAGF,QAAQ,CAAG,EAAE,CAAG,EAAE,CAE5BzC,SAAS,CAAC,IAAM,KAAA4C,kBAAA,CAAAC,iBAAA,CACZ,KAAM,CAAAC,WAAW,CAAGb,SAAS,SAATA,SAAS,kBAAAW,kBAAA,CAATX,SAAS,CAAEc,OAAO,UAAAH,kBAAA,iBAAlBA,kBAAA,CAAoBI,qBAAqB,CAAC,CAAC,CAACC,KAAK,CACrE,KAAM,CAAAC,UAAU,CAAGhB,QAAQ,SAARA,QAAQ,kBAAAW,iBAAA,CAARX,QAAQ,CAAEa,OAAO,UAAAF,iBAAA,iBAAjBA,iBAAA,CAAmBG,qBAAqB,CAAC,CAAC,CAACC,KAAK,CAEnE,KAAM,CAAAE,UAAU,CAAGL,WAAW,CAAC,CAAC,EAAII,UAAU,CAAC,CAAC,CAAGP,GAAG,CAAC,CACvD,KAAM,CAAAS,gBAAgB,CAAGF,UAAU,CAAGC,UAAU,CAEhDb,YAAY,CAAC,CAACc,gBAAgB,CAAC,CAC/BZ,cAAc,CAACU,UAAU,CAAC,CAC1Bd,eAAe,CAAC,CAAC,CAAC,CACtB,CAAC,CAAE,CAACJ,IAAI,CAAC,CAAC,CAEV,KAAM,CAAAqB,UAAU,CAAGA,CAAA,GAAM,KAAAC,aAAA,CACrB,GAAInB,YAAY,CAAG,CAAAJ,MAAM,SAANA,MAAM,kBAAAuB,aAAA,CAANvB,MAAM,CAAEwB,KAAK,UAAAD,aAAA,iBAAbA,aAAA,CAAeE,MAAM,EAAG,CAAC,CAAE,CAC1CpB,eAAe,CAACqB,SAAS,EAAIA,SAAS,CAAG,CAAC,CAAC,CAC3CnB,YAAY,CAAEmB,SAAS,EAAKA,SAAS,CAAGlB,WAAW,CAAGI,GAAG,CAAC,CAC9D,CACJ,CAAC,CAED,KAAM,CAAAe,UAAU,CAAGA,CAAA,GAAM,CACrB,GAAIvB,YAAY,CAAG,CAAC,CAAE,CAClBC,eAAe,CAACqB,SAAS,EAAIA,SAAS,CAAG,CAAC,CAAC,CAC3CnB,YAAY,CAAEmB,SAAS,EAAKA,SAAS,CAAGlB,WAAW,CAAGI,GAAG,CAAC,CAC9D,CACJ,CAAC,CAED,mBACIpB,IAAA,CAACjB,aAAa,EAACqD,EAAE,CAAC,QAAQ,CAAAC,QAAA,cACtBnC,KAAA,CAAClB,UAAU,EAAAqD,QAAA,eACPnC,KAAA,CAACjB,WAAW,EAAAoD,QAAA,eACRrC,IAAA,CAACZ,IAAI,GAAE,CAAC,CACPoB,MAAM,SAANA,MAAM,kBAAAH,cAAA,CAANG,MAAM,CAAEwB,KAAK,UAAA3B,cAAA,iBAAbA,cAAA,CAAeiC,GAAG,CAAC,CAACC,KAAK,CAAEC,CAAC,GAAK,CAC9B,mBACIxC,IAAA,CAACd,WAAW,EAAauD,IAAI,CAAED,CAAC,GAAK5B,YAAa,CAAAyB,QAAA,cAC9CrC,IAAA,CAACb,IAAI,EAACuD,IAAI,CAAEF,CAAC,GAAK5B,YAAa,CAAAyB,QAAA,CAAEE,KAAK,CAAO,CAAC,EADhCC,CAAC,CAAG,CAET,CAAC,CAEtB,CAAC,CAAC,EACO,CAAC,cACdtC,KAAA,CAACb,aAAa,EAACsD,GAAG,CAAEjC,SAAU,CAAA2B,QAAA,eAC1BrC,IAAA,CAACH,kBAAkB,EAACiB,SAAS,CAAEA,SAAU,CAAAuB,QAAA,CACpC7B,MAAM,SAANA,MAAM,kBAAAF,cAAA,CAANE,MAAM,CAAEoC,MAAM,UAAAtC,cAAA,iBAAdA,cAAA,CAAgBgC,GAAG,CAAC,CAACO,GAAG,CAAEL,CAAC,GAAK,KAAAM,cAAA,CAC7B,mBACI5C,KAAA,CAACZ,WAAW,EAAeqD,GAAG,CAAEhC,QAAS,CAAA0B,QAAA,eACrCrC,IAAA,CAACL,KAAK,EAACoD,GAAG,CAAEF,GAAI,CAAE,CAAC,cACnB3C,KAAA,CAACX,WAAW,EAAA8C,QAAA,eACRrC,IAAA,CAACJ,IAAI,EAACoD,uBAAuB,CAAE,CAACC,MAAM,CAAEzC,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAE0C,IAAI,CAACzC,IAAI,CAAC,CAAC+B,CAAC,CAAC,CAAE,CAAE,CAAC,cAClEtC,KAAA,CAACV,MAAM,EAAA6C,QAAA,eACHrC,IAAA,CAACN,gBAAgB,EAACyD,IAAI,CAAE,CAAE,CAACC,OAAO,CAAEjB,UAAW,CAACkB,QAAQ,CAAEb,CAAC,GAAK,CAAE,CAAAH,QAAA,cAC9DrC,IAAA,CAACpB,eAAe,GAAE,CAAC,CACL,CAAC,cACnBoB,IAAA,CAACP,IAAI,EAAA4C,QAAA,IAAAiB,MAAA,CAAK1C,YAAY,CAAG,CAAC,MAAA0C,MAAA,CAAI9C,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAEwB,KAAK,CAACC,MAAM,EAAS,CAAC,cAC5DjC,IAAA,CAACN,gBAAgB,EAAC0D,OAAO,CAAEtB,UAAW,CAACuB,QAAQ,CAAEb,CAAC,IAAKhC,MAAM,SAANA,MAAM,kBAAAsC,cAAA,CAANtC,MAAM,CAAEwB,KAAK,UAAAc,cAAA,iBAAbA,cAAA,CAAeb,MAAM,CAAC,CAAAI,QAAA,cACzErC,IAAA,CAACpB,eAAe,GAAE,CAAC,CACL,CAAC,EACf,CAAC,EACA,CAAC,GAbAiE,GAAG,CAAGL,CAcX,CAAC,CAEtB,CAAC,CAAC,CACc,CAAC,cACrBtC,KAAA,CAACJ,YAAY,EAAAuC,QAAA,eACTrC,IAAA,CAACN,gBAAgB,EAACyD,IAAI,CAAE,CAAE,CAACC,OAAO,CAAEjB,UAAW,CAACkB,QAAQ,CAAEzC,YAAY,GAAK,CAAE,CAAAyB,QAAA,cACzErC,IAAA,CAACpB,eAAe,GAAE,CAAC,CACL,CAAC,cACnBoB,IAAA,CAACP,IAAI,EAAA4C,QAAA,IAAAiB,MAAA,CAAK1C,YAAY,CAAG,CAAC,MAAA0C,MAAA,CAAI9C,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAEwB,KAAK,CAACC,MAAM,EAAS,CAAC,cAC5DjC,IAAA,CAACN,gBAAgB,EAAC0D,OAAO,CAAEtB,UAAW,CAACuB,QAAQ,CAAEzC,YAAY,GAAK,CAAAJ,MAAM,SAANA,MAAM,kBAAAD,cAAA,CAANC,MAAM,CAAEwB,KAAK,UAAAzB,cAAA,iBAAbA,cAAA,CAAe0B,MAAM,EAAG,CAAE,CAAAI,QAAA,cACxFrC,IAAA,CAACpB,eAAe,GAAE,CAAC,CACL,CAAC,EACT,CAAC,EACJ,CAAC,EACR,CAAC,CACF,CAAC,CAExB"},"metadata":{},"sourceType":"module","externalDependencies":[]}