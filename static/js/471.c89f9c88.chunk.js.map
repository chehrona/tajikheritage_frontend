{"version":3,"file":"static/js/471.c89f9c88.chunk.js","mappings":"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","sources":["components/common/tempPage/tempPageStyles.ts","components/common/tempPage/TempPage.tsx","hooks/useSetHeader.tsx","services/storeVisit.ts","services/request.ts"],"sourcesContent":["import styled from 'styled-components';\n\nexport const TempPageContainer = styled.div`\n    min-height: 100svh;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n`;\n\nexport const TempImg = styled.img`\n    height: 20rem;\n`;\n\nexport const TempTitle = styled.div`\n    color: var(--primary-white-color);\n    margin: 0% 0% 5% 0%;\n    font-size: var(--header-medium);\n    position: absolute;\n    top: 10%;\n    z-index: 10;\n    font-family: var(--fancy-font);\n`;\n","import React from 'react';\n\n// Hooks\nimport { useGlobalData } from '../../../hooks/useGlobalData';\nimport { useSetHeader } from '../../../hooks/useSetHeader';\n\n//Helper\nimport info from '../../../miscellaneous/staticTexts.json';\n\n// Components\nimport Loader from '../loader/Loader';\n\n// Styled components\nimport { TempPageContainer, TempTitle } from './tempPageStyles';\n\nconst TempPage: React.FC<{ page: string }> = ({ page }) => {\n    // Delete\n    const { lang } = useGlobalData();\n    useSetHeader(page, 'landing', '');\n\n    return (\n        <React.Fragment>\n            <Loader inProp={true} />\n            <TempPageContainer>\n                <TempTitle>{info.TEMP_PAGE_INFO[lang]}</TempTitle>\n            </TempPageContainer>\n        </React.Fragment>\n    );\n};\n\nexport default TempPage;\n","import React, { useEffect } from 'react';\n\n// Hooks\nimport { useGlobalData } from './useGlobalData';\n\n// Services\nimport { requestPage } from '../services/request';\n\n// Helper\nimport staticTexts from '../miscellaneous/staticTexts.json';\n\n// Types\nimport { Langs } from '../appTypes';\nimport { HeaderDataType, Section, TitleProps } from './hookTypes';\n\nexport const useSetHeader = (page: string, type?: string, pageData?: any) => {\n    const { title, setTitle } = useGlobalData();\n\n    const modifiedPage =\n        type === 'landing' ? page : page.substring(0, page.indexOf('/'));\n\n    const link =\n        type === 'middle'\n            ? page.substring(page.indexOf('_') + 1)\n            : page.substring(page.indexOf('/') + 1, page.length - 1);\n\n    useEffect(() => {\n        const fetchHeaderData = async () => {\n            try {\n                const headerData = await requestPage(modifiedPage);\n\n                let tempHeader = { ...title };\n\n                if (type === 'landing') {\n                    updateLandingPageTitle(tempHeader, headerData);\n                } else {\n                    updatePageTitle(tempHeader, headerData);\n                }\n\n                setTitle(tempHeader);\n            } catch (error: unknown) {\n                setTitle(staticTexts.HEADER);\n            }\n        };\n\n        if (page === 'reset') {\n            setTitle(staticTexts.HEADER);\n        } else {\n            fetchHeaderData();\n        }\n    }, [page, pageData]);\n\n    const updateLandingPageTitle = (\n        tempHeader: TitleProps,\n        headerData: HeaderDataType,\n    ) => {\n        const { header } = headerData;\n\n        for (const key in title) {\n            const typedKey = key as Langs;\n            let titleArr = [...title[typedKey]];\n\n            // New title\n            const newItem = [`${header[typedKey].toUpperCase()}`, ''];\n\n            titleArr[1] = newItem;\n\n            tempHeader[typedKey] = titleArr;\n        }\n    };\n\n    const updatePageTitle = (\n        tempHeader: TitleProps,\n        headerData: HeaderDataType,\n    ) => {\n        const { header, sections } = headerData;\n\n        sections?.forEach((section: Section) => {\n            const { link: sectionLink, cardTitle: sectionTitle } = section;\n\n            if (sectionLink === link) {\n                for (const key in title) {\n                    const typedKey = key as Langs;\n\n                    let titleArr = [...title[typedKey]];\n                    let newItem = [];\n\n                    if (type === 'middle') {\n                        newItem = [\n                            `${header[typedKey].toUpperCase()}`,\n                            `${\n                                sectionTitle[typedKey] !== undefined\n                                    ? sectionTitle[typedKey]\n                                    : ''\n                            }`,\n                        ];\n                    } else {\n                        newItem = [\n                            `${sectionTitle[typedKey].toUpperCase()}`,\n                            `${\n                                pageData?.name[typedKey] !== undefined\n                                    ? pageData?.name[typedKey]\n                                    : ''\n                            }`,\n                        ];\n                    }\n\n                    titleArr[1] = newItem;\n                    tempHeader[typedKey] = titleArr;\n                }\n            }\n        });\n    };\n};\n","export const storeVisit = (page: string) => {\n    const hasVisitedBefore = localStorage.getItem('th_Id');\n    let storageValue = null;\n\n    if (!hasVisitedBefore) {\n        storageValue = page + '_' + Math.random().toString(36).substring(2, 9);\n        localStorage.setItem('th_Id', storageValue);\n    } else {\n        storageValue = localStorage.getItem('th_Id');\n    }\n\n    return storageValue;\n};\n","import axios from 'axios';\n\n// Helper\nimport { storeVisit } from './storeVisit';\nimport { ValidEmailType } from '../components/poet/bookDialog/types/componentTypes';\n\n// API URL\nconst apiUrl = process.env.REACT_APP_BASE_URL;\n\nexport const requestPage = async (page: string) => {\n    if (!page) page = '';\n\n    try {\n        const userId = storeVisit(page);\n\n        const response = await axios.get(`${apiUrl}/${page}`, {\n            params: { page, userId },\n        });\n\n        return response.data;\n    } catch (error) {\n        throw error;\n    }\n};\n\nexport const requestMiddlePage = async (page: string) => {\n    try {\n        const userId = storeVisit(page);\n\n        const response = await axios.get(`${apiUrl}/${page}`, {\n            params: { userId, page },\n        });\n\n        return response.data;\n    } catch (error) {\n        throw error;\n    }\n};\n\nexport const requestArticleInfo = async (id: string, page: string) => {\n    try {\n        const userId = storeVisit(`${page}${id}`);\n\n        const response = await axios.get(`${apiUrl}/${page}`, {\n            params: {\n                id: id,\n                page: `${page}/${id}`,\n                userId: userId,\n            },\n        });\n\n        return response.data;\n    } catch (error) {\n        throw error;\n    }\n};\n\nexport const requestPdf = async (source: string) => {\n    try {\n        const response = await axios.get(`${apiUrl + source}`, {\n            responseType: 'arraybuffer',\n        });\n        const blob = new Blob([response.data], {\n            type: 'application/pdf',\n        });\n        const pdfBlobUrl = URL.createObjectURL(blob);\n        return pdfBlobUrl;\n    } catch (error) {\n        throw error;\n    }\n};\n\nexport const addEmail = async (info: ValidEmailType) => {\n    try {\n        const response = await axios.post(`${apiUrl}/email`, { info });\n\n        return response;\n    } catch (error) {\n        throw error;\n    }\n};\n\n// export const sendLogin = async (info) => {\n//     try {\n//         const response = await axios.post(`${apiUrl}/admin/login`, { info });\n\n//         return response;\n//     } catch (error) {\n//         throw error;\n//     }\n// };\n\nexport const getSections = async () => {\n    try {\n        const response = await axios.get(`${apiUrl}/${'admin/content'}`);\n\n        return response.data;\n    } catch (error) {\n        throw error;\n    }\n};\n\n// export const uploadSectionImage = async (formData) => {\n//     try {\n//         const response = await axios.put(`${apiUrl}/admin/section`, formData, {\n//             headers: {\n//                 'Content-Type': 'multipart/form-data',\n//             },\n//         });\n\n//         return response;\n//     } catch (error) {\n//         throw error;\n//     }\n// };\n"],"names":["TempPageContainer","styled","div","TempTitle","img","_ref","page","lang","useGlobalData","useSetHeader","_jsxs","React","children","_jsx","Loader","inProp","info","type","pageData","title","setTitle","modifiedPage","substring","indexOf","link","length","useEffect","staticTexts","async","headerData","requestPage","tempHeader","updateLandingPageTitle","updatePageTitle","error","fetchHeaderData","header","key","typedKey","titleArr","newItem","toUpperCase","sections","forEach","section","sectionLink","cardTitle","sectionTitle","undefined","name","storeVisit","storageValue","localStorage","getItem","Math","random","toString","setItem","apiUrl","process","userId","axios","get","params","data","requestMiddlePage","requestArticleInfo","id","requestPdf","response","source","responseType","blob","Blob","URL","createObjectURL","addEmail","post"],"sourceRoot":""}